@echo off
chcp 65001 >nul
echo ═══════════════════════════════════════════════════════════
echo    ساخت فایلهای آماده برای آپلود به هاست
echo ═══════════════════════════════════════════════════════════
echo.

echo [1/3] پاک کردن فایلهای قبلی...
if exist "out" rmdir /s /q "out"
if exist ".next" rmdir /s /q ".next"

echo [2/3] ساخت فایلهای استاتیک...
call npm run build

echo.
echo [3/3] بررسی نتیجه...
if exist "out" (
    echo.
    echo ✅ موفقیت آمیز! فایلها آماده هستند
    echo.
    echo 📁 پوشه "out" ساخته شد
    echo 📄 فایلهای آماده برای آپلود:
    dir /b out
    echo.
    echo ═══════════════════════════════════════════════════════════
    echo    مرحله بعد: آپلود به هاست
    echo ═══════════════════════════════════════════════════════════
    echo.
    echo 🔹 محتویات پوشه "out/almani" را به public_html آپلود کنید
    echo 🔹 یا کل پوشه "out" را آپلود کنید
    echo.
    echo 📖 راهنمای کامل: راهنمای-آپلود-هاست.txt
    echo.
) else (
    echo.
    echo ❌ خطا در ساخت فایلها
    echo لطفاً خطاها را بررسی کنید
    echo.
)

pause
